<template>
  <div class="modal__wrap">
    <div
      class="modal__trigger rotating"
      @click="handleModal"
    >
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve"> <g> <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"> <path d="M4425.8,4966.4c-34.4-34.5-57.4-84.2-67-139.7c-7.7-45.9-45.9-250.7-88-455.5c-57.4-298.6-86.1-400-141.6-514.9c-181.8-365.6-587.6-581.9-972.3-520.6c-250.7,40.2-289,61.3-960.9,518.7c-72.7,49.8-151.2,91.9-172.3,93.8c-114.8,11.5-132.1-1.9-530.2-396.2c-220.1-220.1-413.4-421.1-428.7-449.8c-55.5-105.3-38.3-145.5,191.4-457.5c245-335,306.3-442.2,346.4-614.4C1715.5,1549.8,1459,1080.9,990,912.4c-63.2-23-266.1-68.9-449.8-105.3c-294.8-55.5-340.7-68.9-386.6-114.8L100,640.6V45.3c0-612.5,5.7-660.4,80.4-708.2c21-13.4,199.1-49.8,394.3-80.4c197.2-30.6,402-68.9,453.6-86.1c549.3-178,825-788.6,585.7-1301.6c-28.7-63.2-139.7-245-246.9-403.9c-185.7-277.5-202.9-312-197.2-402c1.9-38.3,398.1-451.7,761.8-792.4c172.3-162.7,178-162.7,543.6,105.3c162.7,118.7,340.7,239.3,396.2,268c421.1,214.4,924.5,97.6,1200.1-277.5c112.9-155,153.1-271.8,237.3-694.8c65.1-325.4,78.5-367.5,124.4-407.7c51.7-44,51.7-44,643.1-44c379,0,606.8,7.7,637.4,21c70.8,32.5,91.9,84.2,130.1,340.7c21.1,132.1,51.7,289,67,344.5c137.8,478.5,576.1,775.2,1045.1,710.1c199.1-28.7,348.4-99.5,618.2-296.7c199.1-145.5,262.2-181.8,315.8-181.8c59.3,0,101.4,36.4,501.5,434.5c537.9,535.9,516.8,465.1,252.7,853.7c-224,327.3-302.4,488.1-335,669.9c-59.3,359.8,116.7,748.4,432.6,949.4c137.8,88,289,130.1,683.3,191.4c195.2,30.6,373.2,67,394.3,80.4c74.6,47.9,80.4,95.7,80.4,706.3c0,591.4,0,591.4-44,643.1c-40.2,45.9-82.3,59.3-407.7,124.4c-423,84.2-539.8,124.4-694.8,237.3c-375.1,275.6-491.9,779-277.5,1200.1c28.7,55.5,149.3,233.5,268,396.2c222,304.3,245,356,199.1,442.1c-11.5,21.1-204.8,222-432.6,449.8c-402,402-428.8,423-532.1,411.5c-21-1.9-166.5-90-323.5-195.2c-158.9-107.2-340.7-218.2-403.9-246.9c-513-239.3-1123.5,36.4-1301.6,585.7c-17.2,53.6-55.5,256.5-86.1,453.6c-30.6,195.2-67,373.2-80.4,394.3c-47.9,74.7-95.7,80.4-708.2,80.4h-595.3L4425.8,4966.4z M5478.5,4652.5c0-3.8,21-130.2,45.9-283.3c74.6-451.7,151.2-616.3,405.8-874.7c134-132.1,185.7-170.3,354.1-252.7c224-107.2,419.2-155,633.6-155c300.5,1.9,526.4,84.2,876.6,323.5l201,135.9l271.8-271.8c151.2-151.2,269.9-283.3,266-296.7c-5.7-11.5-70.8-105.3-145.5-206.7c-264.1-357.9-344.5-568.5-344.5-909.2c0-535.9,294.8-1020.2,759.9-1246.1c116.8-57.4,224-90,436.4-132.1c155-32.5,285.2-57.4,289-57.4c3.8,0,7.7-176.1,7.7-390.5v-390.5l-51.7-11.5c-30.6-5.7-143.6-24.9-254.6-40.2c-111-17.2-256.5-47.9-325.4-68.9c-763.7-239.3-1163.8-1181-802-1894.9c32.5-67,120.6-208.6,193.3-313.9l132.1-189.5l-277.5-277.5L7873-3428.7l-72.7,53.6c-281.4,206.7-474.7,298.6-713.9,336.9c-275.6,45.9-545.5-1.9-840.3-145.5c-151.2-74.7-210.5-118.7-346.4-254.6c-252.7-250.7-327.3-415.3-411.5-905.3l-11.5-72.7h-390.5c-216.3,0-392.4,3.8-392.4,7.7c0,3.8-24.9,134-57.4,289c-84.2,424.9-202.9,639.3-478.5,876.6c-312,269.9-823,386.6-1228.8,283.3c-193.3-49.8-310.1-111-558.9-292.8c-112.9-84.2-216.3-155-229.7-160.8c-11.5-3.8-143.6,114.8-294.8,266l-273.7,273.7l137.8,197.2c235.4,340.7,321.6,578,323.5,878.5c0,214.4-47.9,409.6-155,633.6c-82.3,168.4-120.6,220.1-252.7,354.1c-258.4,254.6-423,331.1-874.7,405.8c-153.1,24.9-279.5,45.9-281.4,45.9c-7.7,0-5.7,784.8,0,784.8c3.8,0,135.9,26.8,290.9,57.4c403.9,82.3,555.1,157,784.8,390.5c137.8,137.8,189.5,208.6,254.6,336.9c109.1,218.2,157,419.2,157,648.9c0,338.8-82.3,555.1-342.6,911.1c-86.1,114.8-155,214.4-155,220.1s122.5,132.1,273.7,283.3l271.8,271.8l268-183.8c147.4-101.4,329.2-212.5,402-246.9c528.3-246.9,1156.1-118.7,1573.4,321.6c204.8,216.3,294.8,415.4,369.4,807.7c21.1,116.8,47.9,256.5,59.3,312l19.1,99.5H5088C5302.4,4656.3,5478.5,4654.4,5478.5,4652.5z"/> <path d="M4843,1919.2c-331.1-53.6-671.8-204.8-934.1-415.4c-315.8-254.6-578.1-662.3-673.8-1048.9c-53.6-218.2-57.4-618.2-9.6-817.3c143.6-589.5,545.5-1081.4,1094.8-1337.9c233.5-109.1,417.3-153.1,700.5-164.6c279.5-11.5,463.2,17.2,729.3,116.8c493.8,185.6,932.2,624,1117.8,1117.8c99.5,266.1,128.3,449.8,116.8,729.3c-11.5,283.3-55.5,467-164.6,700.5c-252.6,539.8-729.2,937.9-1299.6,1083.4C5352.2,1925,5001.9,1944.1,4843,1919.2z M5373.2,1546c625.9-109.1,1100.6-572.3,1226.9-1196.3c23-118.7,28.7-216.3,21.1-390.5c-11.5-275.6-42.1-402-155-633.5c-155-312-359.8-516.8-671.8-671.8c-231.6-112.9-357.9-143.6-633.5-155c-371.3-15.3-650.8,57.4-932.2,243.1c-453.6,296.7-712,825-675.7,1380c42.1,664.2,447.9,1190.5,1060.4,1376.2C4875.6,1578.5,5105.3,1591.9,5373.2,1546z"/> <path d="M4835.4,992.8c-271.8-86.1-509.1-290.9-641.2-557c-78.5-157-84.2-178-90-356c-7.7-151.2,0-212.5,32.5-317.7c132.1-438.3,595.3-765.6,1025.9-727.3c551.3,51.7,995.3,597.2,914.9,1123.6c-57.4,367.5-356,713.9-710.1,823C5225.9,1025.3,4959.8,1031.1,4835.4,992.8z M5325.4,623.4c134-42.1,287.1-183.7,346.4-315.8c36.4-82.3,44-135.9,45.9-273.7c0-157-5.7-183.7-63.2-300.5c-70.8-143.6-137.8-210.5-290.9-281.4c-90-42.1-132.1-49.8-277.5-47.9c-220.1,0-335,45.9-465.1,189.5c-112.9,122.5-157,246.9-157,442.1c0,271.8,137.8,491.9,365.6,578.1C4961.7,665.5,5183.7,669.3,5325.4,623.4z"/> </g> </g> </svg>
    </div>
    <div
      v-show="visible"
      class="modal__body"
    >
      <div
        class="modal__close"
        @click="handleModal"
      >
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve"><g><path d="M500,442.7L79.3,22.6C63.4,6.7,37.7,6.7,21.9,22.5C6.1,38.3,6.1,64,22,79.9L442.6,500L22,920.1C6,936,6.1,961.6,21.9,977.5c15.8,15.8,41.6,15.8,57.4-0.1L500,557.3l420.7,420.1c16,15.9,41.6,15.9,57.4,0.1c15.8-15.8,15.8-41.5-0.1-57.4L557.4,500L978,79.9c16-15.9,15.9-41.5,0.1-57.4c-15.8-15.8-41.6-15.8-57.4,0.1L500,442.7L500,442.7z"/></g></svg>
      </div>
      <div class="modal__content">
        <div class="modal__content-row">
          <span>Use Flex / Grid</span>
          <banner-switch
            @handleSwitch="handleSwitchType"
            disabled-text="Flex"
            active-text="Grid"
          />
        </div>
        <div class="modal__content-row">
          <span>Invert layout</span>
          <banner-switch
            @handleSwitch="handleSwitchLayout"
            disabled-text="Normal"
            active-text="Inverted"
          />
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import BannerSwitch from '@/components/banner/BannerSwitch'
import { EventBus } from './event-bus'

export default {
  name: 'BannerModal',

  components: {
    BannerSwitch
  },

  data () {
    return {
      visible: false
    }
  },

  methods: {
    handleModal () {
      this.visible = !this.visible
    },

    handleSwitchLayout () {
      EventBus.$emit('invertLayout')
    },

    handleSwitchType () {
      EventBus.$emit('switchType')
    }
  }
}
</script>

<style lang="scss" scoped>
.modal {
  &__trigger {
    height: 30px;
    width: 30px;
    cursor: pointer;
    animation-play-state: paused;
    &:hover {
      animation-play-state: running;
    }
    svg {
      fill: var(--color-primary);
    }
  }

  &__body {
    height: 200px;
    width: 360px;
    position: fixed;
    top: 280px;
    left: 50vw;
    z-index: 9;
    background: var(--color-white);
    // background: grey;
    transform: translate(-50%, -50%);
    border-radius: 10px;
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.15);
    -webkit-transition: none;
-moz-transition: none;
-o-transition: none;
-ms-transition: none;
transition: none;

  }

  &__close {
    position: absolute;
    right: 10px;
    top: 10px;
    cursor: pointer;
    svg {
      height: 15px;
      width: 15px;
    }
  }
}
</style>

<style>
@-webkit-keyframes rotating /* Safari and Chrome */ {
  from {
    -webkit-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  to {
    -webkit-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@keyframes rotating {
  from {
    -ms-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -webkit-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  to {
    -ms-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
.rotating {
  -webkit-animation: rotating 2s linear infinite;
  -moz-animation: rotating 2s linear infinite;
  -ms-animation: rotating 2s linear infinite;
  -o-animation: rotating 2s linear infinite;
  animation: rotating 2s linear infinite;
}
</style>
